
{% extends 'base.html' %}

{% block title %}Home -  Kumasi Central CoC{% endblock %}

{% block content %}

<style>
  @keyframes slideInUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes gradient-x {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.animate-slideInUp {
    animation: slideInUp 0.8s ease-out;
}

.animate-fadeIn {
    animation: fadeIn 0.8s ease-out;
}

.animate-gradient-x {
    background-size: 300% 300%;
    animation: gradient-x 15s ease infinite;
}
</style>

<div data-aos="fade-in" class="relative overflow-hidden">
  <!-- Hero Carousel -->
  <div id="default-carousel" class="relative w-full h-[400px] md:h-[550px] lg:h-[700px] overflow-hidden" data-carousel="slide">
      <div class="relative h-full">
          {% for item in carousel_items %}
          <div class="hidden duration-1000 ease-in-out absolute inset-0 z-0" data-carousel-item>
              <!-- Content Container -->
              <div class="relative z-30 flex flex-col items-center justify-center h-full text-center px-4">
                  <div class="max-w-4xl mx-auto space-y-6 transform transition-all duration-300">
                      {% if item.title %}
                      <h2 class="text-2xl md:text-4xl lg:text-5xl font-extrabold text-white leading-tight tracking-tight drop-shadow-2xl animate-slideInUp">
                          {{ item.title }}
                      </h2>
                      {% else %}
                      <h2 class="text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-white leading-tight tracking-tight drop-shadow-2xl px-4">
                        Welcome to Adum Central Church of Christ
                      </h2>
                      {% endif %}
                      
                      {% if item.description %}
                      <p class="text-lg md:text-xl text-white/90 max-w-2xl mx-auto leading-relaxed animate-fadeIn delay-100">
                          {{ item.description }}
                      </p>
                      {% else %}
                      <p class="text-base sm:text-lg md:text-xl lg:text-2xl text-white/90 max-w-2xl mx-auto leading-relaxed px-4">
                        We are a vibrant community dedicated to spiritual growth, inspiring worship, and heartfelt fellowship. Join us on a transformative journey of faith.
                      </p>
                      {% endif %}
                      
                      <div class="mt-8 animate-fadeIn delay-200">
                          {% if item.link %}
                          <a href="{{ item.link }}" class="px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-xl transition-all duration-300 hover:scale-105 inline-flex items-center gap-3 group">
                              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                              </svg>
                              Explore Now
                          </a>
                          {% else %}
                          <a href="{% url 'community:about' %}" class="px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-xl transition-all duration-300 hover:scale-105 inline-flex items-center gap-3 group">
                              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                              </svg>
                              Explore Now
                          </a>
                          {% endif %}
                      </div>
                  </div>
              </div>

              <!-- Gradient Overlay -->
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-20"></div>

              <!-- Image Background -->
              <div class="absolute inset-0 z-10 transition-transform duration-1000 ease-in-out transform scale-100 hover:scale-105">
                  {% if item.image %}
                  <img src="{{ item.image.url }}" class="w-full h-full object-cover object-center" alt="{{ item.title }}" loading="lazy">
                  {% elif item.image_url %}
                  <img src="{{ item.image_url }}" class="w-full h-full object-cover object-center" alt="{{ item.title }}" loading="lazy">
                  {% else %}
                  <div class="w-full h-full bg-gradient-to-r from-fuchsia-600 to-purple-600 animate-gradient-x"></div>
                  {% endif %}
              </div>
          </div>
          {% endfor %}
      </div>

      <!-- Indicators -->
      <div class="absolute z-30 flex -translate-x-1/2 bottom-8 left-1/2 space-x-2 rtl:space-x-reverse">
          {% for item in carousel_items %}
          <button type="button" class="w-8 h-1 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300 aria-[current=true]:bg-white aria-[current=true]:w-12" 
                  aria-current="{% if forloop.first %}true{% else %}false{% endif %}" 
                  aria-label="Slide {{ forloop.counter }}" 
                  data-carousel-slide-to="{{ forloop.counter0 }}"></button>
          {% endfor %}
      </div>

      <!-- Navigation Arrows -->
      <button type="button" class="absolute top-1/2 left-4 z-30 flex items-center justify-center w-12 h-12 -translate-y-1/2 cursor-pointer group focus:outline-none transition-all duration-300 hover:scale-110" data-carousel-prev>
          <span class="inline-flex items-center justify-center w-full h-full rounded-full bg-white/30 group-hover:bg-white/50 transition-all duration-300 backdrop-blur-sm">
              <svg class="w-6 h-6 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
              </svg>
              <span class="sr-only">Previous</span>
          </span>
      </button>
      
      <button type="button" class="absolute top-1/2 right-4 z-30 flex items-center justify-center w-12 h-12 -translate-y-1/2 cursor-pointer group focus:outline-none transition-all duration-300 hover:scale-110" data-carousel-next>
          <span class="inline-flex items-center justify-center w-full h-full rounded-full bg-white/30 group-hover:bg-white/50 transition-all duration-300 backdrop-blur-sm">
              <svg class="w-6 h-6 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
              </svg>
              <span class="sr-only">Next</span>
          </span>
      </button>
  </div>
</div>



{% comment %} <div class="relative">
    <!-- Hero Carousel -->
    <div id="default-carousel" class="relative w-full h-[450px] md:h-[600px] overflow-hidden" data-carousel="slide">
        <div class="relative h-full">
            {% for item in carousel_items %}
            <div class="hidden duration-700 ease-in-out absolute inset-0 z-0" data-carousel-item>
                <div class="relative z-30 flex flex-col items-center justify-center h-full text-center">
                    {% if item.title %}
                    <h2 class="mb-4 text-3xl lg:text-5xl font-bold text-white leading-tight">{{ item.title }}</h2>
                    {% else %}
                    <h2 class="mb-4 text-3xl lg:text-5xl font-bold text-white leading-tight">Welcome to Adum Central Church of Christ</h2>
                    {% endif %}
                    {% if item.description %}
                    <p class="text-lg text-white max-w-2xl mx-auto">{{ item.description }}</p>
                    {% else %}
                    <p class="text-lg text-white max-w-2xl mx-auto">
                      We are a vibrant community dedicated to spiritual growth, inspiring worship, and heartfelt fellowship. Join us on a transformative journey of faith.
                  </p>
                    {% endif %}
                    {% if item.link %}
                    <a href="{{ item.link }}" class="mt-6 px-6 py-3 bg-indigo-500 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:-translate-y-1 inline-flex items-center gap-2">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                        Explore Now
                    </a>
                    {% else %}
                    <a href="{% url 'community:about' %}" class="mt-6 px-6 py-3 bg-indigo-500 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:-translate-y-1 inline-flex items-center gap-2">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                     </svg>
                     Explore Now
                 </a>
                  {% endif %}
                </div>
                 <div class="absolute inset-0 bg-black opacity-50 z-10"></div>
                <div class="absolute inset-0 z-0">
                    {% if item.image %}
                    <img src="{{ item.image.url }}" class="block w-full h-full object-cover object-center" alt="{{ item.title }}">
                    {% elif item.image_url %}
                    <img src="{{ item.image_url }}" class="block w-full h-full object-cover object-center" alt="{{ item.title }}">
                    {% else %}
                     <!-- Fallback beautiful gradient background -->
                     <div class="block w-full h-full bg-gradient-to-r from-blue-500 to-purple-600"></div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
         <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
            {% for item in carousel_items %}
             <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" aria-current="{% if forloop.first %}true{% else %}false{% endif %}" aria-label="Slide {{ forloop.counter }}" data-carousel-slide-to="{{ forloop.counter0 }}"></button>
            {% endfor %}
        </div>
         <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
             <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
                <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                   <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
               </svg>
               <span class="sr-only">Previous</span>
            </span>
        </button>
       <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
            <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
               <svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                </svg>
               <span class="sr-only">Next</span>
             </span>
       </button>
   </div> {% endcomment %}

  
   {% comment %} {% if daily_devotional %}
   <section class="py-16 bg-gradient-to-br from-gray-50 to-purple-50 relative overflow-hidden">
     <!-- Decorative background elements -->
     <div class="absolute top-0 left-0 w-32 h-32 bg-purple-200 rounded-full opacity-20 mix-blend-multiply blur-xl"></div>
     <div class="absolute bottom-0 right-0 w-48 h-48 bg-blue-200 rounded-full opacity-20 mix-blend-multiply blur-xl"></div>
   
     <div class="container mx-auto px-4 relative">
       <!-- Heading Section with Icon -->
       <div class="text-center mb-16">
         <div class="inline-flex items-center justify-center w-16 h-16 bg-white rounded-full shadow-lg mb-6">
           <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
           </svg>
         </div>
         <h1 class="text-4xl md:text-5xl font-bold text-gray-900 bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">
           Today's Inspiration
         </h1>
         <p class="mt-4 text-lg text-gray-600 font-medium max-w-2xl mx-auto">
           Nourish your spirit with today's divine wisdom
         </p>
       </div>
   
       <!-- Devotional Card -->
       <div class="flex justify-center">
         <div class="w-full max-w-2xl group">
           <div class="relative bg-white rounded-2xl shadow-xl transition-all duration-300 hover:shadow-2xl hover:-translate-y-2">
             <div class="absolute inset-0 bg-gradient-to-r from-purple-50 to-blue-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"></div>
             
             <div class="relative p-8 flex flex-col md:flex-row items-start space-y-6 md:space-y-0 md:space-x-8">
               <!-- Icon Container: Image URL or Default Icon -->
               <div class="w-full md:w-1/4 flex justify-center">
                 {% if daily_devotional.image_url %}
                   <img src="{{ daily_devotional.image_url }}" alt="{{ daily_devotional.title }}" class="w-24 h-24 object-cover rounded-full shadow-lg">
                 {% else %}
                   <div class="p-6 bg-gradient-to-br from-purple-600 to-blue-500 rounded-2xl shadow-lg">
                     <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                     </svg>
                   </div>
                 {% endif %}
               </div>
   
               <!-- Content -->
               <div class="w-full md:w-3/4">
                 <div class="mb-6">
                   <h3 class="text-2xl font-bold text-gray-900 mb-2 flex items-center">
                     {{ daily_devotional.title|default:"Daily Bread" }}
                     <span class="ml-3 bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full">New</span>
                   </h3>
                   
                   {% if daily_devotional.scripture_reference %}
                   <div class="flex items-center text-blue-600 font-medium">
                     <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                     </svg>
                     {{ daily_devotional.scripture_reference }}
                   </div>
                   {% endif %}
                 </div>
   
                 <p class="text-gray-600 leading-relaxed mb-6">
                   {{ daily_devotional.summary|default:daily_devotional.content|truncatewords:30 }}
                 </p>
   
                 <button id="openDevotionalModal" data-slug="{{ daily_devotional.slug }}" class="w-full md:w-auto inline-flex items-center justify-center space-x-3 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-[1.02]">
                   <span>Continue Reading</span>
                   <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                   </svg>
                 </button>
               </div>
             </div>
           </div>
         </div>
       </div>
   
       <!-- Date Indicator -->
       <div class="mt-8 text-center">
         <span class="inline-block bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm font-medium">
           <svg class="w-4 h-4 inline-block mr-2 -mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
           </svg>
           {{ "now"|date:"F j, Y" }}
         </span>
       </div>
   
       <!-- Link to view more devotionals -->
       <div class="mt-10 text-center">
         <a href="{% url 'community:devotionals' %}" class="inline-flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-semibold">
           <span>View More Devotionals</span>
           <svg class="w-5 h-5 transition-transform transform hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
           </svg>
         </a>
       </div>
     </div>
   </section>
   {% endif %}
    {% endcomment %}


    {% load static %}
    {% if daily_devotional %}
    <section class="py-16 relative overflow-hidden">
      <!-- Decorative background elements -->
      <div class="absolute top-0 left-0 w-32 h-32 bg-purple-200 rounded-lg opacity-20 mix-blend-multiply blur-xl"></div>
      <div class="absolute bottom-0 right-0 w-48 h-48 bg-blue-200 rounded-lg opacity-20 mix-blend-multiply blur-xl"></div>
      
      <div class="container mx-auto px-4 relative">
        <!-- Main Heading Section (placed outside the image) -->
        <div class="text-center mb-12">
          <div class="inline-flex items-center justify-center w-16 h-16 bg-white rounded-lg shadow-lg mb-4">
            <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
            </svg>
          </div>
          <h1 class="text-4xl md:text-5xl font-bold text-gray-900 bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">
            Today's Inspiration
          </h1>
          <p class="mt-4 text-lg text-gray-600 font-medium max-w-2xl mx-auto">
            Nourish your spirit with today's divine wisdom
          </p>
        </div>
        
        <!-- Devotional Image Card (clickable to toggle modal) -->
        <div class="flex justify-center">
          <div class="w-full max-w-3xl group cursor-pointer" onclick="toggleDevotionalModal('{{ daily_devotional.slug }}')">
            <div class="relative rounded-lg shadow-xl overflow-hidden">
              <!-- Background Image -->
              {% if daily_devotional.image_url %}
                <img src="{{ daily_devotional.image_url }}" alt="{{ daily_devotional.title }}"
                     class="w-full h-80 object-cover rounded-lg">
              {% else %}
                <img src="{% static 'images/devotionals/20250408_112627_0000.png' %}" alt="{{ daily_devotional.title|default:'Daily Devotional' }}"
                     class="w-full h-80 object-cover rounded-lg">
              {% endif %}
              
              <!-- Black Overlay -->
              <div class="absolute inset-0 bg-black opacity-50"></div>
              
              <!-- Devotional Info overlay -->
              <div class="absolute inset-0 flex flex-col justify-center items-center text-center py-6 px-4">
                <h3 class="text-white text-xl md:text-2xl font-bold mb-2">
                  {{ daily_devotional.title|default:"Daily Bread" }}
                </h3>
                {% if daily_devotional.scripture_reference %}
                  <p class="text-white text-base md:text-lg mb-2">
                    <span class="font-medium">Scripture:</span> {{ daily_devotional.scripture_reference|truncatewords:20 }}
                  </p>
                {% endif %}
                <p class="text-white text-sm md:text-base mb-4 max-w-lg">
                  {{ daily_devotional.summary|default:daily_devotional.content|truncatewords:30 }}
                </p>
                <button id="openDevotionalModal" data-slug="{{ daily_devotional.slug }}"
                        class="inline-flex items-center justify-center bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-semibold py-2 px-4 rounded transition-all duration-300">
                  Continue Reading
                </button>
              </div>
            </div>
          </div>
        </div>
      
        <!-- Date Indicator -->
        <div class="mt-8 text-center">
          <span class="inline-block bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium">
            <svg class="w-4 h-4 inline-block mr-2 -mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            {{ "now"|date:"F j, Y" }}
          </span>
        </div>
      
        <!-- Link to view more devotionals -->
        <div class="mt-10 text-center">
          <a href="{% url 'community:devotionals' %}" class="inline-flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-semibold">
            <span>View More Devotionals</span>
            <svg class="w-5 h-5 transition-transform transform hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>
    {% endif %}
    
    
  


<!-- Unified Cards Section with Colorful Icons -->
<section  data-aos="fade-in"  class="py-20 bg-gradient-to-br from-gray-50 to-white">
  <div class="max-w-7xl mx-auto px-4">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">

      <!-- Events Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-blue-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 2v4M16 2v4M3 10h18M3 4h18v16H3z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Events</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">View upcoming events and activities</p>
        <a href="{% url 'community:events' %}" class="inline-flex items-center gap-2 font-medium text-blue-600 hover:text-blue-700 transition-colors">
          Learn More
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Sermons Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-purple-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-purple-600" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 18V5l12-2v13M6 18a3 3 0 100-6 3 3 0 000 6zm12-2a3 3 0 100-6 3 3 0 000 6z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Sermons</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">Listen to recent messages</p>
        <a href="{% url 'worship:sermons' %}" class="inline-flex items-center gap-2 font-medium text-purple-600 hover:text-purple-700 transition-colors">
          Learn More
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- New Here Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-green-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">New Here?</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">We're excited to meet you! Learn about what to expect.</p>
        <a href="{% url 'community:about' %}" class="inline-flex items-center gap-2 font-medium text-green-600 hover:text-green-700 transition-colors">
          Learn More
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Service Times Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-orange-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-orange-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Service Times</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">
          Sunday: 8:30 AM &amp; 12:00 AM<br>
          Tuesday: 6:30 PM &amp; 7:30 PM <br>
          Friday: 6:30 PM &amp; 7:30 PM <br>
        </p>
        <a href="{% url 'community:services' %}" class="inline-flex items-center gap-2 font-medium text-orange-600 hover:text-orange-700 transition-colors">
          View Schedule
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Get Involved Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-teal-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2h5m7-10a4 4 0 100-8 4 4 0 000 8z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Get Involved</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">Explore our various ministries and find your place.</p>
        <a href="{% url 'community:ministries' %}" class="inline-flex items-center gap-2 font-medium text-teal-600 hover:text-teal-700 transition-colors">
          Join Ministry
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Give Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-red-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Give</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">Support our mission and ministry.</p>
        <a href="{% url 'community:give' %}" class="inline-flex items-center gap-2 font-medium text-red-600 hover:text-red-700 transition-colors">
          Donate Now
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Location Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-indigo-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Location</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">
          123 Abenkye Street<br>
          Kumasi, Ghana
        </p>
      </div>

      <!-- Contact Card -->
      <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition transform duration-300 hover:-translate-y-2">
        <div class="flex items-center justify-center h-16 w-16 mx-auto mb-4 bg-pink-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-pink-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Contact</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">
          +233 123 456 789<br>
          info@adumchurch.org
        </p>
      </div>

    </div>
  </div>
</section>



{% if live_stream %}
  <section data-aos="fade-in" class="py-12 md:py-16 bg-gradient-to-b from-gray-50 to-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <!-- Header Section -->
      <header class="text-center mb-12 space-y-4">
        <div class="inline-flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-red-500 to-pink-500 shadow-lg animate-pulse" role="status" aria-live="polite">
          {% if live_stream.is_live %}
            <span class="w-3 h-3 bg-white rounded-full" aria-hidden="true"></span>
            <h2 class="text-2xl font-bold text-white tracking-wide">
              LIVE NOW: {{ live_stream.title }}
            </h2>
          {% else %}
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" role="img" aria-label="Upcoming Stream Icon" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">
              </path>
            </svg>
            <h2 class="text-2xl font-bold text-white tracking-wide">
              UPCOMING: {{ live_stream.title }}
            </h2>
          {% endif %}
        </div>

        <p class="text-xl text-gray-700 mt-4 max-w-3xl mx-auto leading-relaxed">
          {{ live_stream.description }}
        </p>

        {% if not live_stream.is_live %}
          <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-6">
            <div class="bg-white px-6 py-3 rounded-lg shadow-md">
              <p class="text-lg font-semibold text-gray-800">
                üóìÔ∏è {{ live_stream.scheduled_time|date:"F j, Y" }}
              </p>
              <p class="text-gray-600 mt-1">
                ‚è∞ {{ live_stream.scheduled_time|date:"g:i A" }} (UTC)
              </p>
            </div>
            <div id="countdown" class="bg-gray-800 px-6 py-3 rounded-lg text-white text-lg font-mono hidden" aria-live="polite">
              <!-- Countdown timer will be inserted by JavaScript -->
            </div>
          </div>
        {% endif %}
      </header>

      <!-- Video or Thumbnail Display -->
      <main>
        {% if live_stream.is_live or live_stream.recorded_url %}
          <!-- Embedded Live or Recorded Stream -->
          <div class="relative group rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300 hover:shadow-3xl">
            <iframe 
              src="{{ live_stream.stream_url }}" 
              class="w-full h-[500px] border-0" 
              title="{{ live_stream.title }} Stream"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
              allowfullscreen>
            </iframe>
            <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent pointer-events-none"></div>
          </div>
        {% else %}
          <!-- Thumbnail with Call-to-Action for Upcoming Stream -->
          <div class="relative group rounded-2xl overflow-hidden transform transition-all duration-300 hover:scale-105">
            <img src="{{ live_stream.thumbnail.url }}" 
                 alt="{{ live_stream.title }} Thumbnail" 
                 class="w-full h-[500px] object-cover transition-transform duration-500 group-hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/40 to-transparent flex flex-col items-center justify-end pb-12 px-6 text-center">
              <div class="space-y-4">
                <h3 class="text-3xl font-bold text-white drop-shadow-lg">{{ live_stream.title }}</h3>
                <p class="text-gray-200 text-lg max-w-2xl mx-auto leading-relaxed">
                  {{ live_stream.description|truncatewords:30 }}
                </p>
              </div>
              <a href="{{ live_stream.stream_url }}" 
                 class="mt-8 inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-xl transition-transform duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z">
                  </path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                        d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                  </path>
                </svg>
                <span>Set Reminder & Notify Me</span>
              </a>
            </div>
          </div>
        {% endif %}
      </main>

      <!-- Social Sharing Links -->
      <div class="mt-12 flex flex-col items-center space-y-4">
        <p class="text-sm font-medium text-gray-500">Share this stream:</p>
        <div class="flex justify-center gap-3">
          <!-- Twitter -->
          <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20stream%3A%20{{ live_stream.title|urlencode }}%20{{ request.build_absolute_uri|urlencode }}"
             target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg" aria-label="Share on Twitter">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" role="img">
              <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
            </svg>
          </a>
          <!-- Facebook -->
          <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri|urlencode }}"
             target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-gradient-to-br from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg" aria-label="Share on Facebook">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" role="img">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <!-- LinkedIn -->
          <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.build_absolute_uri|urlencode }}&title={{ live_stream.title|urlencode }}"
             target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg" aria-label="Share on LinkedIn">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" role="img">
              <path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/>
            </svg>
          </a>
          <!-- WhatsApp -->
          <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20stream%3A%20{{ live_stream.title|urlencode }}%20{{ request.build_absolute_uri|urlencode }}"
             target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-gradient-to-br from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg" aria-label="Share on WhatsApp">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" role="img">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
          </a>
          <!-- Reddit -->
          <a href="https://reddit.com/submit?url={{ request.build_absolute_uri|urlencode }}&title={{ live_stream.title|urlencode }}"
             target="_blank" rel="noopener noreferrer"
             class="p-3 rounded-xl bg-gradient-to-br from-orange-500 to-orange-700 hover:from-orange-600 hover:to-orange-800 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg" aria-label="Share on Reddit">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" role="img">
              <path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.29-1.84.756-1.814-1.171-4.274-1.882-6.972-1.992l1.483-4.669 4.016.941-.006.058c0 1.193.973 2.164 2.164 2.164 1.193 0 2.164-.971 2.164-2.164s-.971-2.164-2.164-2.164c-.95 0-1.752.614-2.045 1.466l-4.389-1.029c-.093-.023-.188.022-.224.11l-1.653 5.207c-2.837.096-5.401.788-7.303 1.979-.479-.465-1.127-.756-1.843-.756-1.465 0-2.657 1.187-2.657 2.645 0 1.096.666 2.037 1.614 2.443-.041.287-.062.579-.062.874 0 3.591 4.216 6.509 9.404 6.509s9.404-2.918 9.404-6.509c0-.295-.021-.587-.062-.874.948-.406 1.614-1.347 1.614-2.443zm-16.782 1.871c0-.897.73-1.627 1.627-1.627s1.627.73 1.627 1.627-.73 1.627-1.627 1.627-1.627-.73-1.627-1.627zm8.486 4.792c-1.009.891-2.732 1.355-5.098 1.355-2.365 0-4.088-.464-5.097-1.355-.123-.108-.143-.291-.035-.415.108-.123.29-.143.415-.035.854.754 2.393 1.139 4.717 1.139 2.324 0 3.863-.385 4.717-1.139.124-.108.307-.088.415.035.108.124.088.307-.035.415zm-.399-3.165c-.897 0-1.627-.73-1.627-1.627s.73-1.627 1.627-1.627 1.627.73 1.627 1.627-.73 1.627-1.627 1.627z"/>
            </svg>
          </a>
          <!-- Copy Link -->
          <button onclick="copyToClipboard('{{ request.build_absolute_uri }}', event)"
                  class="p-3 rounded-xl bg-gradient-to-br from-gray-600 to-gray-800 hover:from-gray-700 hover:to-gray-900 transition-transform duration-300 transform hover:scale-110 hover:shadow-lg relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
                  aria-label="Copy stream link">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" role="img" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
            </svg>
            <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-2 py-1 rounded-md text-sm opacity-0 transition-opacity duration-200 pointer-events-none" role="tooltip">
              Copy link
            </span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Copy to Clipboard Function -->
  <script>
    function copyToClipboard(text, event) {
      navigator.clipboard.writeText(text).then(() => {
        const btn = event.currentTarget;
        const tooltip = btn.querySelector('[role="tooltip"]');
        const originalText = tooltip.textContent;
        tooltip.textContent = 'Copied!';
        tooltip.style.opacity = '1';
        btn.classList.add('bg-green-500', 'to-green-700');
        setTimeout(() => {
          tooltip.textContent = originalText;
          tooltip.style.opacity = '0';
          btn.classList.remove('bg-green-500', 'to-green-700');
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy text:', err);
      });
    }
  </script>

  <!-- Countdown Timer Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      {% if not live_stream.is_live %}
        const countdownEl = document.getElementById('countdown');
        const scheduledTime = new Date('{{ live_stream.scheduled_time|date:"c" }}').getTime();
        
        function updateCountdown() {
          const now = Date.now();
          const distance = scheduledTime - now;
      
          if (distance <= 0) {
            clearInterval(countdownInterval);
            countdownEl.textContent = "Stream starting soon...";
            return;
          }
      
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
          countdownEl.textContent = `Starts in: ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
          countdownEl.classList.remove('hidden');
        }
      
        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown();
      {% endif %}
    });
  </script>

{% else %}
  <!-- No Live Stream Available -->
  <section data-aos="fade-in" class="py-12 md:py-16 bg-gray-100 flex flex-col items-center text-center">
    <div class="max-w-2xl mx-auto">
      <div class="flex justify-center items-center p-6 rounded-full bg-red-500 shadow-lg">
        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" role="img" aria-label="No stream icon" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M13 16h-1v-4h-1m-2 4h8m4 0a9 9 0 11-18 0 9 9 0 0118 0z">
          </path>
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-gray-700 mt-6">No Live Stream Available</h2>
      <p class="text-gray-500 mt-3">Please check back later for upcoming sermons and events.</p>
      <a href="{% url 'worship:sermons' %}" 
         class="mt-6 inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-transform duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" role="img" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z">
          </path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
          </path>
        </svg>
        View Past Sermons
      </a>
    </div>
  </section>
{% endif %}


 


  {% if latest_sermon %}
  {% if latest_sermon.video_url %}
    <!-- Latest Message Section with Video -->
    <section data-aos="fade-in" class="py-16 bg-gray-50">
      <div class="max-w-7xl mx-auto px-6 sm:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold text-gray-800">Latest Message</h2>
          <p class="text-lg text-gray-600 mt-2 leading-relaxed">
            Join us as we reflect on our most recent Sunday service and find inspiration.
          </p>
        </div>
        <div class="relative bg-white rounded-lg shadow-xl overflow-hidden aspect-w-16 aspect-h-9">
          <iframe 
            src="{{ latest_sermon.video_url }}" 
            class="w-full h-[500px] border-0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
          </iframe>
        </div>
        <!-- Additional Sermon Details below the video -->
        <div class="mt-6 text-center">
          <h3 class="text-2xl font-semibold text-gray-800">{{ latest_sermon.title }}</h3>
          {% if latest_sermon.preacher %}
            <p class="text-md text-gray-600 mt-2">Preached by {{ latest_sermon.preacher.name }}</p>
          {% endif %}
          <p class="text-md text-gray-600 mt-2">{{ latest_sermon.date|date:"F j, Y" }}</p>
          <p class="text-md text-gray-700 mt-4">{{ latest_sermon.description|truncatewords:30 }}</p>
          <a href="{% url 'worship:sermon_detail' latest_sermon.slug %}" class="inline-flex items-center mt-4 px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L13.586 11H3a1 1 0 110-2h10.586l-3.293-3.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
            View Details
          </a>
        </div>
      </div>
    </section>
  {% else %}
    <!-- Latest Message Section with Image Fallback & Overlay Details -->
    <section data-aos="fade-in" class="py-16 bg-gray-50 relative">
      <div class="max-w-7xl mx-auto px-6 sm:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold text-gray-800">Latest Message</h2>
          <p class="text-lg text-gray-600 mt-2 leading-relaxed">
            Join us as we reflect on our most recent Sunday service and find inspiration.
          </p>
        </div>
        <div class="relative rounded-lg shadow-xl overflow-hidden" style="background-image: url('{{ latest_sermon.image.url }}'); background-size: cover; background-position: center; height: 500px;">
          <!-- Black overlay -->
          <div class="absolute inset-0 bg-black opacity-60"></div>
          <!-- Text overlay with all sermon details -->
          <div class="relative z-10 flex flex-col items-center justify-center h-full px-4 text-center">
            <h3 class="text-3xl md:text-4xl font-bold text-white">{{ latest_sermon.title }}</h3>
            {% if latest_sermon.preacher %}
              <p class="text-lg md:text-xl text-gray-200 mt-2">Preached by {{ latest_sermon.preacher.name }}</p>
            {% endif %}
            <p class="text-md text-gray-300 mt-1">{{ latest_sermon.date|date:"F j, Y" }}</p>
            <p class="text-md text-gray-300 mt-2">{{ latest_sermon.description|truncatewords:30 }}</p>
            <a href="{% url 'worship:sermon_detail' latest_sermon.slug %}" class="inline-flex items-center mt-4 px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
              <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L13.586 11H3a1 1 0 110-2h10.586l-3.293-3.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>
              View Details
            </a>
          </div>
        </div>
      </div>
    </section>
  {% endif %}
{% else %}
 <!-- Improved Empty State Section for Latest Sermon -->
<section class="py-20 bg-gradient-to-br from-indigo-50 via-white to-blue-50">
  <div class="max-w-4xl mx-auto text-center px-4">
    <div class="bg-white rounded-3xl shadow-xl p-10 transition transform hover:scale-105">
      <div class="flex items-center justify-center bg-indigo-100 w-24 h-24 rounded-full mx-auto animate-pulse">
        <!-- New Icon: Speakerphone (inspired by Heroicons) -->
        <svg class="w-12 h-12 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8a3 3 0 00-6 0v8a3 3 0 006 0V8z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 10v4a2 2 0 01-2 2h-1l-2 2v-8l2 2h1a2 2 0 012 2z"/>
        </svg>
      </div>
      <h2 class="mt-8 text-3xl font-bold text-gray-800">Latest Message Coming Soon</h2>
      <p class="mt-4 text-lg text-gray-600">
        We're preparing an inspiring sermon for you. Stay tuned and join us soon for an uplifting message.
      </p>
    </div>
  </div>
</section>
{% endif %}

<!-- Featured Sections -->
<div data-aos="fade-in" class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4">
        <div class="grid md:grid-cols-2 gap-12">
            <!-- Latest Sermon -->
            <div class="relative rounded-xl overflow-hidden group">
                <img src="https://ehoromymaeqciokbytfm.supabase.co/storage/v1/object/public/mediafiles/churchuploads/IMG-20250323-WA0065.jpg" 
                     alt="Latest Sermon" 
                     class="w-full h-[300px] object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-8">
                    <div>
                        <h3 class="text-2xl font-semibold text-white mb-2">Latest Sermon</h3>
                        <p class="text-gray-200 mb-4">Watch our most recent Sunday service message</p>
                        <button class="bg-white text-gray-900 px-6 py-2 rounded-lg font-semibold group-hover:bg-blue-600 group-hover:text-white transition">
                            Watch Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Community Outreach -->
            <div class="relative rounded-xl overflow-hidden group">
                <img src="https://ehoromymaeqciokbytfm.supabase.co/storage/v1/object/public/mediafiles/churchuploads/IMG-20250323-WA0070.jpg" 
                     alt="Community Outreach" 
                     class="w-full h-[300px] object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-8">
                    <div>
                        <h3 class="text-2xl font-semibold text-white mb-2">Community Outreach</h3>
                        <p class="text-gray-200 mb-4">Learn about our upcoming community service projects</p>
                        <button class="bg-white text-gray-900 px-6 py-2 rounded-lg font-semibold group-hover:bg-blue-600 group-hover:text-white transition">
                            Get Involved
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Homepage Content Section -->
<section data-aos="fade-in" class="bg-gray-100 py-16">
    <div class="max-w-7xl mx-auto px-6">
      
  
{% comment %} <!-- Upcoming Events -->
<section data-aos="fade-in" class="py-20 bg-gradient-to-b from-blue-50 to-white px-4">
    <div class="container mx-auto">
      <h2 class="text-4xl font-bold text-gray-800 text-center mb-12">Upcoming Events</h2>
      
      {% if upcoming_events %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
          {% for event in upcoming_events %}
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition duration-300 hover:-translate-y-2 hover:shadow-2xl">
              <div class="relative">
                {% if event.featured_image %}
                  <img src="{{ event.featured_image.url }}" alt="{{ event.title }}" class="w-full h-56 object-cover transition-transform duration-300">
                {% else %}
                  <img src="placeholder-event-image.jpg" alt="{{ event.title }}" class="w-full h-56 object-cover transition-transform duration-300">
                {% endif %}
                {% if event.is_featured %}
                  <div class="absolute top-2 left-2 bg-blue-600 text-white text-xs uppercase font-semibold rounded-full px-3 py-1">Featured</div>
                {% endif %}
              </div>
              <div class="p-6">
                <h3 class="text-2xl font-semibold text-gray-700 mb-2">{{ event.title }}</h3>
                <p class="text-gray-500 text-sm mb-2">
                  {{ event.date|date:"l, F d, Y, h:i A" }}
                  {% if event.end_date %} - {{ event.end_date|date:"h:i A" }}{% endif %}
                </p>
                <p class="text-gray-600 mb-4">{{ event.description|truncatewords:20 }}</p>
                <a href="{% url 'community:events' %}" class="inline-block bg-blue-600 hover:bg-blue-800 text-white font-medium py-2 px-6 rounded-full transition-colors duration-200">
                  Learn More
                </a>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="text-center">
          <div class="mx-auto bg-white rounded-2xl shadow-xl p-8 max-w-md">
            <svg class="w-16 h-16 text-blue-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M21 16.5a2.5 2.5 0 00-2.5-2.5H5.5a2.5 2.5 0 00-2.5 2.5v.5a2.5 2.5 0 002.5 2.5h13a2.5 2.5 0 002.5-2.5v-.5z" />
            </svg>
            <h3 class="text-2xl font-semibold text-gray-700 mb-2">No Upcoming Events</h3>
            <p class="text-gray-600 mb-4">Please check back later for upcoming events and activities.</p>
            <a href="{% url 'community:events' %}" class="inline-block bg-blue-600 hover:bg-blue-800 text-white font-medium py-2 px-6 rounded-full transition-colors duration-200">
              View All Events
            </a>
          </div>
        </div>
      {% endif %}
      
      <div class="mt-10 text-center">
        <a href="{% url 'community:events' %}" class="text-blue-600 hover:text-blue-800 font-semibold transition-colors duration-200">
          View All Events
        </a>
      </div>
    </div>
  </section> {% endcomment %}


<!-- Upcoming Events -->
<section data-aos="fade-in" class="py-20 bg-gradient-to-b from-blue-50 to-white px-0 md:px-4">
  <div class="container mx-auto">
    <h2 class="text-4xl font-bold text-gray-800 text-center mb-12">Upcoming Events</h2>
    
    {% if upcoming_events %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
        {% for event in upcoming_events %}
          <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition duration-300 hover:-translate-y-2 hover:shadow-2xl">
            <div class="relative">
              {% if event.image %}
                <img src="{{ event.image.url }}" alt="{{ event.title }}" class="w-full h-56 object-cover transition-transform duration-300">
              {% elif event.image_url %}
                <img src="{{ event.image_url }}" alt="{{ event.title }}" class="w-full h-56 object-cover transition-transform duration-300">
              {% else %}
                <img src="placeholder-event-image.jpg" alt="{{ event.title }}" class="w-full h-56 object-cover transition-transform duration-300">
              {% endif %}
              {% if event.featured %}
                <div class="absolute top-2 left-2 bg-blue-600 text-white text-xs uppercase font-semibold rounded-full px-3 py-1">Featured</div>
              {% endif %}
            </div>
            <div class="p-6">
              <h3 class="text-2xl font-semibold text-gray-700 mb-2">{{ event.title }}</h3>
              <p class="text-gray-500 text-sm mb-2">
                {{ event.start_datetime|date:"l, F d, Y, h:i A" }}
                {% if event.end_datetime %} - {{ event.end_datetime|date:"h:i A" }}{% endif %}
              </p>
              <p class="text-gray-500 text-sm mb-2">
                Category: {{ event.category|title }}
              </p>
              <p class="text-gray-600 mb-4">{{ event.description|truncatewords:20 }}</p>
              <a href="{% url 'community:events' %}" class="inline-block bg-blue-600 hover:bg-blue-800 text-white font-medium py-2 px-6 rounded-full transition-colors duration-200">
                Learn More
              </a>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-center">
        <div class="mx-auto bg-white rounded-2xl shadow-xl p-8 max-w-md">
          <svg class="w-16 h-16 text-blue-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M21 16.5a2.5 2.5 0 00-2.5-2.5H5.5a2.5 2.5 0 00-2.5 2.5v.5a2.5 2.5 0 002.5 2.5h13a2.5 2.5 0 002.5-2.5v-.5z" />
          </svg>
          <h3 class="text-2xl font-semibold text-gray-700 mb-2">No Upcoming Events</h3>
          <p class="text-gray-600 mb-4">Please check back later for upcoming events and activities.</p>
          <a href="{% url 'community:events' %}" class="inline-block bg-blue-600 hover:bg-blue-800 text-white font-medium py-2 px-6 rounded-full transition-colors duration-200">
            View All Events
          </a>
        </div>
      </div>
    {% endif %}
    
    <div class="mt-10 text-center">
      <a href="{% url 'community:events' %}" class="text-blue-600 hover:text-blue-800 font-semibold transition-colors duration-200">
        View All Events
      </a>
    </div>
  </div>
</section>

  

  <!-- Our Gallery -->
<section data-aos="fade-in" class="py-20 bg-white px-4">
    <div class="container mx-auto">
      <h2 class="text-4xl font-bold text-gray-800 text-center mb-12">Gallery</h2>
      {% if gallery_images %}
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
        {% for image in gallery_images %}
        <div class="group relative overflow-hidden rounded-xl shadow-lg">
          <img src="{{ image.image.url }}" alt="{{ image.title }}" class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105">
          <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4">
            <h2 class="text-white text-xl font-bold">{{ image.title }}</h2>
            <p class="text-white text-sm">
              {% if image.description %}
                {{ image.description }}
              {% else %}
                {{ image.title }}
              {% endif %}
            </p>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <!-- Empty State -->
      <div class="flex flex-col items-center justify-center py-16">
        <div class="flex items-center justify-center bg-gradient-to-br from-purple-500 to-pink-500 p-6 rounded-full shadow-xl">
          <!-- Modern Gallery Icon -->
          <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="4" y="4" width="16" height="16" rx="2" ry="2" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4-4 4 4 4-4 4 4"/>
          </svg>
        </div>
        <h3 class="mt-6 text-3xl font-bold text-gray-800">No Images Found</h3>
        <p class="mt-2 text-lg text-gray-600 text-center max-w-xl">
          Our gallery is currently empty. Please check back later or explore other sections for more updates.
        </p>
      </div>
      {% endif %}
      {% if gallery_images %}
      <div class="mt-12 text-center">
        <a href="{% url 'community:gallery' %}" class="inline-flex items-center px-6 py-3 border border-transparent text-lg font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-lg">
          View More
          <svg class="w-5 h-5 ml-2 -mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm-2-8a2 2 0 114 0 2 2 0 01-4 0z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
      {% endif %}
    </div>
  </section>
  
 
  {% if featured_sermon %}
  <!-- Featured Sermon -->
  <section data-aos="fade-in" class="py-20 bg-gradient-to-br from-blue-50 to-white px-4">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-4xl font-bold text-gray-800 text-center mb-12">Featured Sermon</h2>
      <div class="bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col lg:flex-row items-stretch">
        
        <!-- Video/Image Section -->
        <div class="lg:w-1/2 relative group">
          {% if featured_sermon.video_url %}
            <!-- Mobile: Maintain 16:9 Aspect Ratio -->
            <div class="block lg:hidden aspect-w-16 aspect-h-9">
              <iframe class="w-full h-full transform transition duration-300 group-hover:scale-105"
                      src="{{ featured_sermon.video_url }}"
                      title="{{ featured_sermon.title }}" frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                      allowfullscreen>
              </iframe>
            </div>
            <!-- Desktop: Full-Height Video -->
            <div class="hidden lg:block h-full">
              <iframe class="w-full h-full object-cover transform transition duration-300 group-hover:scale-105"
                      src="{{ featured_sermon.video_url }}"
                      title="{{ featured_sermon.title }}" frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                      allowfullscreen>
              </iframe>
            </div>
          {% else %}
            <!-- Fallback: Sermon Image with Text Overlay -->
            <div class="relative h-full">
              {% if featured_sermon.image %}
                <img src="{{ featured_sermon.image.url }}" alt="{{ featured_sermon.title }}" class="w-full h-72 object-cover transition-transform duration-300 group-hover:scale-105">
              {% else %}
                <img src="placeholder-sermon.jpg" alt="{{ featured_sermon.title }}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
              {% endif %}
              <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-40">
                <span class="text-white text-lg font-semibold">View Sermon Details</span>
              </div>
            </div>
          {% endif %}
          <!-- Hover Overlay (Desktop) - Shown only for non-video content -->
          {% if not featured_sermon.video_url %}
            <div class="hidden lg:flex absolute inset-0 items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black bg-opacity-25">
              <span class="text-white text-lg font-semibold">Watch Now</span>
            </div>
          {% endif %}
        </div>
        
        <!-- Sermon Details -->
        <div class="lg:w-1/2 p-8 flex flex-col justify-center space-y-4">
          <h3 class="text-2xl font-semibold text-gray-700">
            "{{ featured_sermon.title }}"
          </h3>
          <p class="text-gray-500 text-sm">
            {% if featured_sermon.preacher %}
              Preached by: {{ featured_sermon.preacher }}
            {% else %}
              Preacher: Unknown
            {% endif %}
            | Date: {{ featured_sermon.date|date:"M d, Y" }}
          </p>
          {% if featured_sermon.scripture_reference %}
            <p class="text-gray-500 text-sm">
              Scripture: {{ featured_sermon.scripture_reference }}
            </p>
          {% endif %}
          <p class="text-gray-600 leading-relaxed">
            {{ featured_sermon.description|truncatewords:30 }}
          </p>
          <a href="{% url 'worship:sermon_detail' featured_sermon.slug %}"
             class="inline-block bg-blue-600 hover:bg-blue-800 text-white font-semibold py-3 px-8 rounded-full transition-colors duration-200 text-center shadow-md hover:shadow-lg">
            Watch More Sermons
          </a>
        </div>
        
      </div>
    </div>
  </section>
{% else %}
  <!-- Empty Featured Sermon Message -->
  <section class="py-20 bg-gradient-to-br from-blue-50 to-white px-4">
    <div class="max-w-6xl mx-auto text-center">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">Featured Sermon</h2>
      <div class="flex flex-col items-center justify-center space-y-4">
        <!-- Icon or illustration for empty state -->
        <svg class="w-16 h-16 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <p class="text-gray-600">
          There is currently no featured sermon available. Please check back later for updates.
        </p>
      </div>
      <a href="{% url 'worship:sermons' %}" class="mt-6 inline-block bg-blue-600 hover:bg-blue-800 text-white font-medium py-2 px-6 rounded-full transition-colors duration-200">
        View All Sermons
      </a>
    </div>
  </section>
{% endif %}

  

  
      <!-- Our Ministries -->
<section data-aos="fade-in" class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-800 text-center mb-12">Our Ministries</h2>
      {% if ministries %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
        
        {% for ministry in ministries %}
        <div onclick="openMinistryModal('{{ ministry.slug }}')" class="cursor-pointer bg-gray-50 rounded-2xl shadow-lg p-8 hover:shadow-2xl transform transition duration-300 hover:-translate-y-1">
          <div class="mb-4 flex items-center justify-center">
            {% if ministry.image_url %}
              <img src="{{ ministry.image_url }}" alt="{{ ministry.name }}" class="w-12 h-12 rounded-full">
            {% elif ministry.image %}
              <img src="{{ ministry.image.url }}" alt="{{ ministry.name }}" class="w-12 h-12 rounded-full">
            {% else %}
              <svg class="w-12 h-12 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 2a6 6 0 00-6 6c0 4 6 10 6 10s6-6 6-10a6 6 0 00-6-6zM8 8a2 2 0 114 0 2 2 0 01-4 0z" />
              </svg>
            {% endif %}
          </div>
          <h3 class="text-2xl font-semibold text-gray-700 mb-3">{{ ministry.name }}</h3>
          <p class="text-gray-600 mb-6">{{ ministry.description|truncatewords:25 }}</p>
          <a href="{% url 'community:ministries' %}" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-5 rounded transition-colors duration-200">
            Learn More
          </a>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <!-- Empty State for Ministries -->
      <div class="flex flex-col items-center justify-center py-16">
        <div class="flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-500 p-6 rounded-full shadow-xl animate-bounce">
          <!-- Modern Ministry Icon (e.g., a church roof icon) -->
          <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2l8 8-3 3V21h-4v-4H11v4H7v-7L4 13l8-8z" />
          </svg>
        </div>
        <h3 class="mt-6 text-3xl font-bold text-gray-800">No Ministries Found</h3>
        <p class="mt-2 text-lg text-gray-600 text-center max-w-xl">
          We currently have no ministries listed. Please check back later for updates or explore other sections of our site.
        </p>
      </div>
    {% endif %}
    {% if ministries %}
      <div class="mt-10 text-center">
        <a href="{% url 'community:ministries' %}" class="text-blue-600 hover:text-blue-800 font-semibold transition-colors duration-200">Explore All Ministries</a>
      </div>
    {% endif %}
    </div>
  </section>
  
  <!-- Latest Blog Posts -->
  <section data-aos="fade-in" class="py-20 bg-gradient-to-b from-blue-50 to-white">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl mx-auto mb-16 text-center">
        <span class="text-blue-600 font-semibold uppercase tracking-wide">Insights & Inspiration</span>
        <h2 class="mt-2 text-4xl font-bold text-gray-900 sm:text-5xl">Fresh From Our Blog</h2>
        <p class="mt-4 text-lg text-gray-600">Discover spiritual wisdom and practical guidance for modern life.</p>
      </div>
      {% if latest_posts %}
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Blog Post Card -->
        {% for post in latest_posts %}
        <article class="group bg-white rounded-2xl shadow-lg overflow-hidden transform transition duration-500 hover:-translate-y-2 hover:shadow-2xl">
          <div class="relative h-56 overflow-hidden">
            {% if post.featured_image %}
              <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" loading="lazy">
            {% else %}
              <img src="/static/images/default-blog.jpg" alt="{{ post.title }}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" loading="lazy">
            {% endif %}
            <div class="absolute bottom-0 left-0 bg-blue-600 text-white px-4 py-1 text-sm font-medium">
              {% with post.categories.all|first as category %}
                {% if category %}
                  {{ category.name }}
                {% else %}
                  Uncategorized
                {% endif %}
              {% endwith %}
            </div>
          </div>
          <div class="p-6">
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <time datetime="{{ post.created_at|date:'Y-m-d' }}">{{ post.created_at|date:"M d, Y" }}</time>
              <span class="mx-2">‚Ä¢</span>
              <span>8 min read</span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors">
              <a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a>
            </h3>
            <p class="text-gray-600 mb-4">
              {{ post.meta_description|default:post.content|truncatewords:20 }}
            </p>
            <a href="{% url 'blog:post_detail' post.slug %}" class="flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors">
              Read More
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </article>
      {% endfor %}
      </div>
      {% else %}
      <!-- Empty State -->
      <div class="flex flex-col items-center justify-center py-16">
        <div class="flex items-center justify-center bg-gradient-to-br from-purple-500 to-pink-500 p-8 rounded-full shadow-2xl animate-bounce">
          <!-- Modern Blog Icon (e.g., a document with a pen) -->
          <svg class="w-20 h-20 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10M7 11h6m-6 4h8M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z"/>
          </svg>
        </div>
        <h3 class="mt-8 text-3xl font-bold text-gray-800">No Articles Found</h3>
        <p class="mt-4 text-lg text-gray-600 text-center max-w-xl">
          We haven't published any blog posts yet. Check back soon for fresh insights and inspiration.
        </p>
      </div>
    {% endif %}
    {% if latest_posts %}
      <div class="mt-12 text-center">
        <a href="{% url 'blog:post_list' %}" class="inline-flex items-center px-6 py-3 border border-transparent text-lg font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-lg">
          Explore All Articles
          <svg class="w-5 h-5 ml-2 -mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </a>
      </div>
    {% endif %}
    </div>
  </section>     
    </div>
  </section>


   <!-- Contact Section -->
   <section data-aos="fade-in" class="mt-12 bg-gray-200 py-12 rounded-lg">
    <div class="container mx-auto text-center">
        <h2 class="text-3xl font-semibold text-gray-800 mb-4">Connect With Us</h2>
        <p class="text-lg text-gray-600 mb-6">We'd love to hear from you!  Reach out with any questions or prayer requests.</p>
        <a href="{% url 'contact:contact' %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline">
            Contact Us
        </a>
    </div>
</section>


<section data-aos="fade-in" class="relative py-16 overflow-hidden">
    <!-- Background Image -->
    <div class="absolute inset-0 bg-[url('https://ehoromymaeqciokbytfm.supabase.co/storage/v1/object/public/mediafiles/churchuploads/IMG-20250323-WA0080.jpg')] bg-cover bg-center"></div>

    <!-- Dark Overlay -->
    <div class="absolute inset-0 bg-black opacity-60"></div>

    <!-- Content Layer -->
    <div class="max-w-7xl mx-auto px-4 py-20 relative z-10 text-center text-white">
        <h2 class="text-3xl lg:text-4xl font-bold mb-6 drop-shadow-lg">Stay Updated</h2>
        <p class="mb-8 text-lg leading-relaxed drop-shadow-md">Subscribe to our weekly announcement email to stay informed about church news and events.</p>

        <!-- Newsletter Subscription Form -->
        <form id="newsletter-form" method="POST" action="{% url 'contact:subscribe_newsletter' %}" class="max-w-md mx-auto">
            {% csrf_token %}
            <div class="flex">
                <input type="email" id="email" name="email" placeholder="Enter your email"
                    class="flex-1 px-4 py-2 rounded-l-lg focus:outline-none text-gray-900" required>
                <button type="submit"
                    class="bg-indigo-500 px-6 py-2 rounded-r-lg hover:bg-indigo-600 text-white transition-colors duration-200">
                    Subscribe
                </button>
            </div>
        </form>
    </div>
</section>

<style>
  .drop-shadow-lg {
    filter: drop-shadow(0 0 6px rgba(0, 0, 0, 0.4));
   }
  .drop-shadow-md{
      filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
    }
</style>

{% endblock %}