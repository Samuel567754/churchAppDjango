{% extends 'member_dashboard.html' %}
{% load attendance_tags %}
{% block content %}
<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      
    <h1 class="text-3xl font-semibold text-gray-800 dark:text-gray-100 mb-8 border-b pb-2 bg-gradient-to-r from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800">My Attendance</h1>

      {% if attendances %}
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-x-auto">
              <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                  <thead class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-700 dark:to-gray-800">
                      <tr>
                          <th scope="col" class="px-6 py-3 text-left text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider">
                               <div class="flex items-center"><i class='bx bx-calendar text-xl mr-2'></i>Date</div>
                          </th>
                          <th scope="col" class="px-6 py-3 text-left text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider">
                              <div class="flex items-center"><i class='bx bx-calendar-event text-xl mr-2'></i>Event</div>
                          </th>
                          <th scope="col" class="px-6 py-3 text-center text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider">
                               <div class="flex items-center justify-center"><i class='bx bx-check-circle text-xl mr-2'></i>Status</div>
                          </th>
                      </tr>
                  </thead>
                  <tbody class="bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700">
                      {% for attendance in attendances %}
                         <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200">
                              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">{{ attendance.date }}</td>
                              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">{{ attendance.event.title }}</td>
                              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 text-center">
                                  <span class="inline-flex px-3 py-1 rounded-full text-xs font-semibold transition-all duration-200 hover:scale-105 items-center {{ attendance.status|attendance_status_class }}">
                                     <i class='{{ attendance.status|attendance_status_icon }} text-base mr-1'></i> {{ attendance.get_status_display }}
                                  </span>
                              </td>
                          </tr>
                      {% endfor %}
                  </tbody>
              </table>
          </div>
      {% else %}
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 flex flex-col items-center justify-center text-center">
              <i class='bx bx-calendar-x text-6xl text-gray-400 dark:text-gray-500 mb-4'></i>
              <p class="text-gray-700 dark:text-gray-300 font-medium text-lg mb-2">
                 No Attendance Records Yet
              </p>
              <p class="text-gray-500 dark:text-gray-400 text-sm">
                 We hope to see you soon!
              </p>
          </div>
      {% endif %}
  </div>
{% endblock %}