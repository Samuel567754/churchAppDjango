{% load pwa %}
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% progressive_web_app_meta %}
    <title>Member Dashboard - My Church</title>
    {% load static %}
    {% comment %} <link rel="stylesheet" href="{% static 'css/darkmode.css' %}" /> {% endcomment %}
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link
      href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css"
      rel="stylesheet"
    />
    <!-- Other head elements -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOM4yC+I2W1B1A2ZC0UukS8ik9ASk+6pbq9Z0EG"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">

    <!-- Include SweetAlert CSS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    {% comment %} <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.8/dist/cdn.min.js"></script> {% endcomment %}
    <script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@latest/pace-theme-default.min.css">
    



    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.js"></script>

    <style nonce="{{ request.csp_nonce }}">

        .google-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .google-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        @media (min-width: 1024px) {
            .desktop-nav {
                height: calc(100vh - 64px);
            }
        }

        .bg-noise {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900">

    {% include 'partials/_messages_and_alerts.html' %} 

    {% include 'partials/_family_detail_model.html' %} 
      
    {% include 'partials/_ministries_detail_model.html' %} 
    
    <div class="min-h-screen">
        <!-- Top Navigation -->
    {% include 'partials/_dashboard_topnav.html' %} 

       

        <div class="lg:flex">
       <!-- desktop and mobile nav -->
    {% include 'partials/_dashboard_sidenav.html' %}

             <!-- Main Content Area -->
            <div class="flex-1 transition-transform duration-200 dark:bg-gray-700" style="min-height: calc(100vh - 4rem);">
                <div class="p-4 sm:pl-80" style="padding-top: 4rem;"> <!-- Added top padding -->
                    <main id="main-content"
                        class="w-full p-2 sm:p-4 bg-gray-100 dark:bg-gray-600 mt-16 overflow-auto">
                            <div class="container mx-auto">
                            {% block content %} 
                           
                            {% endblock %}
                            </div>
                    </main>
                </div>
            </div>

        </div>
    </div>

    
  {% comment %} <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/service-worker.js?v=1.0.1')
          .then(function(registration) {
            console.log('ServiceWorker registration successful with scope:', registration.scope);
    
            // Listen for updates to the service worker.
            registration.addEventListener('updatefound', function() {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', function() {
                // When the new worker is installed and there's an active controller,
                // prompt the user for an update (only once per session).
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  if (!sessionStorage.getItem('swUpdatePromptShown')) {
                    if (confirm("A new version is available. Reload to update?")) {
                      window.location.reload();
                    }
                    sessionStorage.setItem('swUpdatePromptShown', 'true');
                  }
                }
              });
            });
          })
          .catch(function(error) {
            console.error('ServiceWorker registration failed:', error);
          });
      }
    </script> {% endcomment %}


   <!-- Pace options for exact timing -->
   <script>
    window.paceOptions = {
      ajax:         false,
      document:     false,
      eventLag:     false,
      elements:     false,
      ghostTime:    0,
      minTime:      0
    };
  </script>
 


  <!-- start & stop bar on real load -->
  <script>
    Pace.start();
    window.addEventListener('load', function(){
      Pace.stop();
    });
  </script>
      

    <script src="{% static 'js/settings.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <!-- Include SweetAlert JS -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
</body>           
</html>





